<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Jupyter Notebook 的使用 – Empirical Research with AI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../body/02_install_FAQs.html" rel="next">
<link href="../body/01_install_Python_Anaconda.html" rel="prev">
<link href="../images/book-logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e8fb9d25728d58bfeac61b497e4a6629.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-8434d2026ae8291579158df2ad8dfa64.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../body/00_intro.html"><strong>环境配置</strong></a></li><li class="breadcrumb-item"><a href="../body/01_use_Junpyter_Notebook.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Jupyter Notebook 的使用</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="https://lianxhcn.github.io/research_with_AI/" class="sidebar-logo-link">
      <img src="../images/book-logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Empirical Research with AI</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/lianxhcn/research_with_AI" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">前言</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>环境配置</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/00_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">简介：AI 带来了什么？</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_install_Python_Anaconda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Python：安装和环境配置</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_use_Junpyter_Notebook.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Jupyter Notebook 的使用</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/02_install_FAQs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Python 安装常见问题</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/03_markdown_marp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Markdown</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>论文解读</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/05_00_read_paper_with_AI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">使用 AI 撰写论文推介</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/05_01_example_Wing-2024.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">案例：AI 解读 Wing (2024)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/05_02_Wing-2024.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Wing (2024) 输出效果</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>研究设计</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/AI_research_design_Erdem_2025.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">借助 AI 做研究设计</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>寻找IV</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/08_findit_IV_example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">如何借助 AI 寻找工具变量？</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/08_findit_IV_example_Q8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">工具变量合理性分析</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>学计量</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/learn_Tobit_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">使用 AI 解读 Tobit 模型</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>数据分析</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/CSMAR/00_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">数据分析案例：CAMAR 数据库合并</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/CSMAR/01_unzip_to_csv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">CSMAR 数据处理</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/web_dangdang_book/case_Dangdang_book.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">案例：当当网 Python 类图书销售数据分析</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>其它应用</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/regenernate_figure_with_AI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Ansome Python + AI</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../examples/split_mdfile/split-topic-files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">将一个 md 文档切割成多个 md 文档</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>参考文献和附录</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">参考文献</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#简介" id="toc-简介" class="nav-link active" data-scroll-target="#简介"><span class="header-section-number">4.1</span> 简介</a></li>
  <li><a href="#运行-python-代码" id="toc-运行-python-代码" class="nav-link" data-scroll-target="#运行-python-代码"><span class="header-section-number">4.2</span> 运行 Python 代码</a></li>
  <li><a href="#运行-stata-代码" id="toc-运行-stata-代码" class="nav-link" data-scroll-target="#运行-stata-代码"><span class="header-section-number">4.3</span> 运行 Stata 代码</a>
  <ul class="collapse">
  <li><a href="#魔法命令" id="toc-魔法命令" class="nav-link" data-scroll-target="#魔法命令"><span class="header-section-number">4.3.1</span> 魔法命令</a></li>
  </ul></li>
  <li><a href="#项目结构文档" id="toc-项目结构文档" class="nav-link" data-scroll-target="#项目结构文档"><span class="header-section-number">4.4</span> 项目结构文档</a>
  <ul class="collapse">
  <li><a href="#新建项目文件夹" id="toc-新建项目文件夹" class="nav-link" data-scroll-target="#新建项目文件夹"><span class="header-section-number">4.4.1</span> 新建项目文件夹</a></li>
  <li><a href="#新建-jupyter-notebook-文件-.ipynb" id="toc-新建-jupyter-notebook-文件-.ipynb" class="nav-link" data-scroll-target="#新建-jupyter-notebook-文件-.ipynb"><span class="header-section-number">4.4.2</span> 新建 Jupyter Notebook 文件 (.ipynb)</a></li>
  </ul></li>
  <li><a href="#使用-jupyter-notebook" id="toc-使用-jupyter-notebook" class="nav-link" data-scroll-target="#使用-jupyter-notebook"><span class="header-section-number">4.5</span> 使用 Jupyter Notebook</a>
  <ul class="collapse">
  <li><a href="#界面和主要功能" id="toc-界面和主要功能" class="nav-link" data-scroll-target="#界面和主要功能"><span class="header-section-number">4.5.1</span> 界面和主要功能</a></li>
  </ul></li>
  <li><a href="#在文档间复制-cell" id="toc-在文档间复制-cell" class="nav-link" data-scroll-target="#在文档间复制-cell"><span class="header-section-number">4.6</span> 在文档间复制 cell</a>
  <ul class="collapse">
  <li><a href="#单个-cell-的复制和粘贴" id="toc-单个-cell-的复制和粘贴" class="nav-link" data-scroll-target="#单个-cell-的复制和粘贴"><span class="header-section-number">4.6.1</span> 单个 cell 的复制和粘贴</a></li>
  <li><a href="#多个-cell-的复制和粘贴" id="toc-多个-cell-的复制和粘贴" class="nav-link" data-scroll-target="#多个-cell-的复制和粘贴"><span class="header-section-number">4.6.2</span> 多个 cell 的复制和粘贴</a></li>
  </ul></li>
  <li><a href="#导出和文档转换" id="toc-导出和文档转换" class="nav-link" data-scroll-target="#导出和文档转换"><span class="header-section-number">4.7</span> 导出和文档转换</a>
  <ul class="collapse">
  <li><a href="#转换为-html" id="toc-转换为-html" class="nav-link" data-scroll-target="#转换为-html"><span class="header-section-number">4.7.1</span> 转换为 HTML</a></li>
  <li><a href="#安装-pandoc用于文档格式转换" id="toc-安装-pandoc用于文档格式转换" class="nav-link" data-scroll-target="#安装-pandoc用于文档格式转换"><span class="header-section-number">4.7.2</span> 安装 Pandoc（用于文档格式转换）</a></li>
  <li><a href="#安装-tex-live用于导出-pdf" id="toc-安装-tex-live用于导出-pdf" class="nav-link" data-scroll-target="#安装-tex-live用于导出-pdf"><span class="header-section-number">4.7.3</span> 安装 TeX Live（用于导出 PDF）</a></li>
  <li><a href="#如何打开终端" id="toc-如何打开终端" class="nav-link" data-scroll-target="#如何打开终端"><span class="header-section-number">4.7.4</span> 如何打开终端？</a></li>
  <li><a href="#安装完成后即可使用以下方式导出-pdf" id="toc-安装完成后即可使用以下方式导出-pdf" class="nav-link" data-scroll-target="#安装完成后即可使用以下方式导出-pdf"><span class="header-section-number">4.7.5</span> 安装完成后即可使用以下方式导出 PDF</a></li>
  <li><a href="#高阶用法使用-quarto-导出漂亮-pdf-或制作电子书网站" id="toc-高阶用法使用-quarto-导出漂亮-pdf-或制作电子书网站" class="nav-link" data-scroll-target="#高阶用法使用-quarto-导出漂亮-pdf-或制作电子书网站"><span class="header-section-number">4.7.6</span> 高阶用法：使用 Quarto 导出漂亮 PDF 或制作电子书网站</a></li>
  </ul></li>
  <li><a href="#附录" id="toc-附录" class="nav-link" data-scroll-target="#附录"><span class="header-section-number">4.8</span> 附录</a>
  <ul class="collapse">
  <li><a href="#借助-ai-工具自动创建项目文档-备选" id="toc-借助-ai-工具自动创建项目文档-备选" class="nav-link" data-scroll-target="#借助-ai-工具自动创建项目文档-备选"><span class="header-section-number">4.8.1</span> 借助 AI 工具自动创建项目文档 (备选)</a></li>
  <li><a href="#采用插件创建项目模板" id="toc-采用插件创建项目模板" class="nav-link" data-scroll-target="#采用插件创建项目模板"><span class="header-section-number">4.8.2</span> 采用插件创建项目模板</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../body/00_intro.html"><strong>环境配置</strong></a></li><li class="breadcrumb-item"><a href="../body/01_use_Junpyter_Notebook.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Jupyter Notebook 的使用</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Jupyter Notebook 的使用</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="简介" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="简介"><span class="header-section-number">4.1</span> 简介</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
说明
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>这里介绍的 Jupyter Notebook 是指在 VScode 中使用的 Jupyter Notebook，而不是 Anaconda 自带的 Jupyter Notebook。VScode 中的 Jupyter Notebook 更加灵活和强大，支持多种编程语言和插件。</li>
<li>阅读本章之前，请务必按照 <a href="../body/01_install_Python_Anaconda.html">Python：安装和环境配置</a> 完成环境配置。</li>
<li>我在 <a href="https://book.lianxh.cn/ds/index.html">数据分析与 Python 应用</a> 这本书中介绍了很多基于「AI 提示词 + Python」进行数据分析了的实例。</li>
</ol>
</div>
</div>
<p>顾名思义，Jupyter Notebook 是一个文本编辑器。它类似于 Stata 的 Do 文件 (<code>.do</code>)；或 R 语言中 RStudio 的 RMarkdown 文件 (<code>.rmd</code>)。Jupyter Notebook 的特征更接近于 RMardown，它提供了一个交互式的计算环境，允许你在一个文档中编写和运行代码、可视化数据、撰写文本和公式等。</p>
<p>简言之，你可以把你的分析目的 (<strong>文本块</strong>)，分析过程 (<strong>代码块</strong>)，分析结果 (<strong>表格或图形</strong>) 都整合到一个文档中，形成一个完整的分析报告。如果安装了编程助手 (如 Copilot)，还可以在编写代码时获得智能提示、自动补全和根据提示词自动编写代码和修改文字的功能。</p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516180903.png" class="img-fluid" width="900"></p>
</section>
<section id="运行-python-代码" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="运行-python-代码"><span class="header-section-number">4.2</span> 运行 Python 代码</h2>
<p>我们先演示一下如何在 VScode 中编写 Python 代码：</p>
<ul>
<li>点击 <strong>File</strong> → <strong>New File …</strong>，选择 <code>Jupyter Notebook .ipynb</code>，填入文件名，即可新建一个 Jupyter Notebook。</li>
<li>点击 <code>+ Code</code> 按钮，添加一个代码单元格，输入 Python 代码，然后点击运行按钮 (或按 <code>Shift + Enter</code>) 执行代码。</li>
</ul>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250730001935.png" class="img-fluid" width="700"></p>
<blockquote class="blockquote">
<p><a href="https://github.com/lianxhcn/research_with_AI/blob/main/examples/sample_notebook_python.ipynb">github - 原始 .ipynb 文件</a>，<a href="https://nbviewer.org/github/lianxhcn/research_with_AI/blob/main/examples/sample_notebook_python.ipynb">version 2</a></p>
</blockquote>
<p>由于 Jupyter Notebook 对 Python 的支持一直非常好，因此在 Jupyter Notebook 中编写和运行 Python 代码非常顺畅。比如，你可以运行或修改上图中的代码：</p>
<div id="2ebf36e8" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a># 绘制一幅简单的函数图</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>import numpy <span class="kw">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>import matplotlib.pyplot <span class="kw">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>x = np.linspace(-10, 10, 200)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">y</span> = x ** 2</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize=(3, 2.5))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>plt.plot(x, <span class="fu">y</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>plt.<span class="bn">title</span>(<span class="st">"y = x^2"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>plt.<span class="kw">xlabel</span>(<span class="st">"x"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>plt.<span class="kw">ylabel</span>(<span class="st">"y"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>plt.<span class="bn">grid</span>(True)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="运行-stata-代码" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="运行-stata-代码"><span class="header-section-number">4.3</span> 运行 Stata 代码</h2>
<p>多数情况下，你能在 dofile 或 Stata 命令窗口中运行的代码，都可以在 Jupyter Notebook 中运行。以下是一个简单的 Stata 代码示例，比如：</p>
<div id="cb51e628" class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dis <span class="st">"nbstata is so NB"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>nbstata is so NB</code></pre>
</div>
</div>
<p>再看一个更完整的例子：使用 Stata 自带的 <code>sysuse auto</code> 数据集，绘制汽车价格与重量的散点图，并把图形保存到当前工作路径下。</p>
<div id="c412200b" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>cd <span class="st">"D:/temp"</span>  <span class="co">// 设置工作目录，酌情修改或忽略此行</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">// 安装绘图模板</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>net install scheme_scientific.pkg, from(http:<span class="co">//fmwww.bc.edu/RePEc/bocode/s)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> <span class="dv">scheme</span> scientific</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">sysuse</span> <span class="st">"auto.dta"</span>, <span class="kw">clear</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span> price <span class="kw">weight</span> mpg <span class="kw">in</span> 1/3, <span class="kw">clean</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="kw">scatter</span> price <span class="kw">weight</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> <span class="kw">export</span> <span class="st">"scatter_price_weight.png"</span>, <span class="kw">replace</span> <span class="kw">width</span>(700)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>D:\temp
checking scheme_scientific consistency and verifying not already installed...
all files already exist and are up to date.
(1978 automobile data)

       price   weight   mpg  
  1.   4,099    2,930    22  
  2.   4,749    3,350    17  
  3.   3,799    2,640    22  
file scatter_price_weight.png written in PNG format</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_use_Junpyter_Notebook_files/figure-html/cell-4-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="魔法命令" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="魔法命令"><span class="header-section-number">4.3.1</span> 魔法命令</h3>
<p>有少数 Stata 命令是无法在 Jupyter Notebook 中直接使用的，比如 <code>browse</code>, <code>doedit</code>, <code>set graph_width</code> 等。这些命令通常都涉及到文件的读写和图形的显示，而不是简单地在结果窗中打印文字和数字结果。</p>
<p>不过，我们可以借助 <code>nbstata</code> 的魔法命令来实现多数功能。</p>
<p><code>nbstata</code> 目前支持以下魔法指令，详情参见 <a href="https://hugetim.github.io/nbstata/">nbstata 文档</a>，以及 <a href="https://hugetim.github.io/nbstata/user_guide.html">nbstata User Guide</a>。</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">命令</th>
<th style="text-align: left;">描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>%browse</code></td>
<td style="text-align: left;">查看数据集</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>%head</code></td>
<td style="text-align: left;">查看前 5 (或 N) 行</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%tail</code></td>
<td style="text-align: left;">查看最后 5 (或 N) 行</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>%frbrowse</code></td>
<td style="text-align: left;">查看数据框</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%frhead</code></td>
<td style="text-align: left;">查看前 5 (或 N) 个数据框</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>%frtail</code></td>
<td style="text-align: left;">查看最后 5 (或 N) 个数据框</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%locals</code></td>
<td style="text-align: left;">列出暂元和它们的值</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>%delimit</code></td>
<td style="text-align: left;">打印当前分隔符</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%help</code></td>
<td style="text-align: left;">显示 Stata 帮助</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>%set</code></td>
<td style="text-align: left;">设置单个配置选项</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%%set</code></td>
<td style="text-align: left;">设置多个配置选项</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>%status</code></td>
<td style="text-align: left;">显示 Stata 或配置状态</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%%echo</code></td>
<td style="text-align: left;">显示命令回显</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>%%noecho</code></td>
<td style="text-align: left;">不显示命令回显</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%%quietly</code></td>
<td style="text-align: left;">静默所有单元输出，包括图表</td>
</tr>
</tbody>
</table>
<p>我设置的图片默认尺寸比较大，如需调整，可以使用 <code>nbstata</code> 的 <a href="https://hugetim.github.io/nbstata/user_guide.html">魔法命令</a> 设置图片尺寸。</p>
<p>需要注意的是，魔法命令需要以 <code>%</code> 或 <code>%%</code> 开够，且只有放在代码块的第一行才会被识别为魔法命令。因此，我通常会让魔法命令独占一行：</p>
<div id="2f96ba3c" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>%<span class="kw">set</span> graph_width = 5.0in   <span class="co">// 将图形宽度设置为 5.0 英寸</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>graph size was (7.0in, 5.0in), is now (5.0in, 5.0in).</code></pre>
</div>
</div>
<div id="edb63eb9" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>%<span class="kw">set</span> graph_height = 4.0in  <span class="co">// 将图形高度设置为 4.0 英寸</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>graph size was (5.0in, 5.0in), is now (5.0in, 4.0in).</code></pre>
</div>
</div>
<p>执行完上述两行命令后，再绘制的图形就会按照指定的宽度和高度显示了：</p>
<div id="8037da3b" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">scatter</span> price <span class="kw">weight</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_use_Junpyter_Notebook_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>再看几个有趣的例子：</p>
<ul>
<li><code>%status</code> 可以显示当前 Stata 的版本和配置状态。</li>
<li><code>%head</code> 可以查看数据集的前 5 行，或者指定行数。我猜是借用了 Python 中的 <code>head()</code> 函数。</li>
</ul>
<div id="db13b79b" class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>%status</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    System information
      Python version         3.12.7
      Stata version          Stata 17.0 (MP)
      Stata library path     D:\stata17\mp-64.dll
      Stata initialized      True
      sfi initialized        True

    Settings
      graphic display        True
      graphic size           width = 5.0in, height = 4.0in
      graphic format         png

      echo                   None
      missing                .
      browse_auto_height     True
      config file path       C:\Users\Administrator\.config\nbstata\nbstata.conf</code></pre>
</div>
</div>
<div id="822f13b8" class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>%<span class="fu">head</span> price <span class="kw">weight</span> mpg make foreign</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">weight</th>
<th data-quarto-table-cell-role="th">mpg</th>
<th data-quarto-table-cell-role="th">make</th>
<th data-quarto-table-cell-role="th">foreign</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>4,099</td>
<td>2,930</td>
<td>22</td>
<td>AMC Concord</td>
<td>Domestic</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>4,749</td>
<td>3,350</td>
<td>17</td>
<td>AMC Pacer</td>
<td>Domestic</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>3,799</td>
<td>2,640</td>
<td>22</td>
<td>AMC Spirit</td>
<td>Domestic</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>4,816</td>
<td>3,250</td>
<td>20</td>
<td>Buick Century</td>
<td>Domestic</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>7,827</td>
<td>4,080</td>
<td>15</td>
<td>Buick Electra</td>
<td>Domestic</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="项目结构文档" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="项目结构文档"><span class="header-section-number">4.4</span> 项目结构文档</h2>
<p>下面，我会从项目的角度，介绍如何建立一个规范的项目文件结构，以便于管理和组织你的代码、数据和文档。养成良好的项目管理习惯对于后续处理大型项目很有帮助。</p>
<p>首先，我们会新建一个文件夹，然后在该文件夹下按需创建几个子文件夹，用于分类存储 Data, Codes 和输出结果。最后，我们会在根目录下或 Codes 文件夹下创建 Jupyter Notebook 文件，编写代码并运行。</p>
<section id="新建项目文件夹" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="新建项目文件夹"><span class="header-section-number">4.4.1</span> 新建项目文件夹</h3>
<ul>
<li>本地新建一个文件夹，如 <strong>D:/FinData/Proj_Maotai</strong></li>
<li>(推荐) 在该文件夹下新建如下几个子文件夹，用于分类存放文件
<ul>
<li>[<code>./data</code>]：存放 .csv、.xlsx 等数据文件</li>
<li>[<code>./doc</code>]：存放说明文档、报告等文件</li>
<li>[<code>./codes</code>]：存放代码文件，包括自编函数、模块等</li>
<li>[<code>./output</code>]：存放输出文件，包括图表、结果等</li>
<li>此外，建议在该文件夹下新建一个 <code>README.md</code> 文件，对项目进行说明 (如项目背景、目标、数据来源、程序的执行顺序和方法等)。</li>
</ul>
<img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516012952.png" class="img-fluid"></li>
</ul>
</section>
<section id="新建-jupyter-notebook-文件-.ipynb" class="level3" data-number="4.4.2">
<h3 data-number="4.4.2" class="anchored" data-anchor-id="新建-jupyter-notebook-文件-.ipynb"><span class="header-section-number">4.4.2</span> 新建 Jupyter Notebook 文件 (.ipynb)</h3>
<ul>
<li>打开 VScode，依次点击 <strong>文件</strong> -&gt; <strong>打开文件夹</strong>，选择 <strong>D:/FinData/Proj_Maotai</strong> 文件夹。</li>
<li>右击该文件夹，选择 <strong>New File</strong> (亦可直接点击下图中的 <code>New File</code> 图标)，新建一个文件，名称为 <code>data_clean.ipynb</code>。注意：一定要以 <code>.ipynb</code> 结尾，否则无法用 Jupyter Notebook 打开，也无法添加 Python 代码块。
<ul>
<li>你也可以使用<strong>命令行方式</strong>新建一个 <code>.ipynb</code> 文件：按快捷键 <code>Ctrl+Shift+P</code> &gt;&gt; 输入或选择 <code>Create: New Jupyter Notebook</code> 会打开一个名为 <strong>Untitled-1.ipynb</strong> 的文件，输入内容后另存到目标文件夹即可 (可以重命名，如 <code>data_clean.ipynb</code>)。</li>
</ul></li>
</ul>
<p>完成上述设定后，VScode 的文件目录结构如下：</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 目录结构</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">D:/FinData/Proj_Maotai</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> codes</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> data</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> doc</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> output</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> README.md</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="ex">└──</span> data_clean.ipynb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
自动创建项目文档结构
</div>
</div>
<div class="callout-body-container callout-body">
<p>如果你有多个项目需要建立，或者需要在多个项目中使用相同的文件结构，可以借助 AI 工具自动创建项目文档。本章附录中提供了一个示例提示词，供你参考。</p>
</div>
</div>
</section>
</section>
<section id="使用-jupyter-notebook" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="使用-jupyter-notebook"><span class="header-section-number">4.5</span> 使用 Jupyter Notebook</h2>
<p><strong>Step 1</strong>：<strong>选择解释器</strong>。初次打开 <code>data_clean.ipynb</code> 文件时，可能需要按下图方式设定 Python 解释器，以便随后用 <strong>python.exe</strong> 来运行新增的代码块。</p>
<ul>
<li><p>如果你没有看到该按钮，可以按快捷键 <code>Ctrl + Shift + P</code>，输入或选择 <code>Python: Select Interpreter</code>，然后选择你安装的 Python 解释器。</p></li>
<li><p>若要运行 Stata 代码，可以选择 <code>Stata (nbstata)</code> 解释器。</p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516015325.png" class="img-fluid" width="560"></p></li>
</ul>
<p><strong>Step 2</strong>：<strong>添加 Markdown 文本块</strong>。点击上图中的 <code>+ Markdown</code> 按钮，添加一个 Markdown 文本块。可以用 Markdown 语法撰写文档说明。</p>
<ul>
<li><p><strong>预览</strong>：点击图中的 <code>√</code> 或按快捷键 <code>Esc</code>；</p></li>
<li><p><strong>编辑</strong>：在预览 <code>双击鼠标</code> 区可重新计入编辑模式。</p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516020205.png" class="img-fluid" width="560"></p></li>
</ul>
<p><strong>Step 3a：</strong> <strong>让 AI 自动生成代码</strong> (可选)：如果你已经在 VScode 中安装了插件 <code>Github Copilot</code>，可以点击图中的 <code>Generate</code> 按钮，输入提示词 (比如，<code>生成随机数 x~N(0,1)，N=100，绘制直方图+密度函数图, 英文标题</code>)，敲回车，或点击下图中的右箭头，Copilot 会自动生成代码。注意：代码块右下角有时会显示为 <code>Ini</code>，表示没有指定该代码快的类型，可以点击选择合适的类型或解释器。</p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516013612.png" class="img-fluid" width="860"></p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516014122.png" class="img-fluid" width="600"></p>
<p><strong>Step 3b：</strong> 自行添加代码块。点击上图中的 <code>+ Code</code> 按钮，添加一个代码块。可以在代码块中输入 Python 代码。</p>
<ul>
<li><p><strong>运行代码块</strong>：点击上图中的 <code>▶</code> 按钮，或按快捷键 <code>Ctrl + Enter</code>；</p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516021019.png" class="img-fluid" width="560"></p></li>
</ul>
<p><strong>Step 4：</strong> 修改和调试代码。你可以酌情修改代码。</p>
<ul>
<li><p>若出现大量警告信息或程序无法运行，可以选中全部代码或被标注了红色波浪线代码，点击下图中的黄色星星按钮，选择 <code>Fix using copilot</code>，多数情况下都能自动修复。</p></li>
<li><p>若需现有代码进行优化，可以选中代码后，点击黄色星星，选择 <code>Modify using copilot</code>，然后输入提示词。</p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516021357.png" class="img-fluid" width="560"></p></li>
</ul>
<section id="界面和主要功能" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="界面和主要功能"><span class="header-section-number">4.5.1</span> 界面和主要功能</h3>
<p>在上文中，为了突出重点，我没有让 VScode 编辑器全屏。事实上，全屏后，你会发现 Jupyter Notebook 提供了一组功能强大的工具栏和菜单栏，帮助你更好地编写和运行代码。下面是 Jupyter Notebook 的主要界面元素：</p>
<p><img src="https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250516204916.png" class="img-fluid" width="860"></p>
<p>多数菜单的功能都是比较直观的，下面我简单介绍几个常用的功能：</p>
<ul>
<li><code>View data</code>：查看数据和概要信息。注意：需要安装 <code>Data Wrangler</code> 插件才具有此功能。</li>
<li><code>...</code>：最右侧的三个点，点击后可以选择 <code>Export</code>，将当前 Notebook 导出为 PDF、HTML、Markdown 等格式；还有预览 (Preview) 等功能 (快捷键 <code>Esc</code>)。</li>
</ul>
</section>
</section>
<section id="在文档间复制-cell" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="在文档间复制-cell"><span class="header-section-number">4.6</span> 在文档间复制 cell</h2>
<section id="单个-cell-的复制和粘贴" class="level3" data-number="4.6.1">
<h3 data-number="4.6.1" class="anchored" data-anchor-id="单个-cell-的复制和粘贴"><span class="header-section-number">4.6.1</span> 单个 cell 的复制和粘贴</h3>
<p>在 Jupyter Notebook 中，你可以通过以下方式在不同的 Notebook 文档之间复制 cell：</p>
<ol type="1">
<li>打开源 Notebook 文档，选中要复制的 cell。</li>
<li>使用快捷键 <code>Ctrl+C</code> 复制选中的 cell；亦可单击三个点图标，选择 <code>Copy Cell</code>。</li>
<li>打开目标 Notebook 文档，将光标定位到要粘贴的位置。</li>
<li>使用快捷键 <code>Ctrl+V</code> 粘贴 cell；亦可单击三个点图标，选择 <code>Paste Cell</code>。</li>
</ol>
</section>
<section id="多个-cell-的复制和粘贴" class="level3" data-number="4.6.2">
<h3 data-number="4.6.2" class="anchored" data-anchor-id="多个-cell-的复制和粘贴"><span class="header-section-number">4.6.2</span> 多个 cell 的复制和粘贴</h3>
<ul>
<li>在 VS Code 的资源管理器（Explorer）中，分别打开需要操作的两个 Notebook 文件（如 <strong>A.ipynb</strong> 和 <strong>B.ipynb</strong>）。
<ul>
<li>如需分屏显示，可拖动标签，将两个文档左右排列，方便拖拽和对比操作。</li>
</ul></li>
<li>在源 Notebook（如 <strong>A.ipynb</strong>）中，按住 <code>Ctrl</code>（Mac 下为 <code>Command</code>）逐个点击左侧 cell 区域，可多选不连续的 cell；或先点击一个 cell，再按住 Shift 点击另一个 cell，选择一段连续的 cell。
<ul>
<li>多选后，cell 区域会高亮显示，表示已被选中。</li>
</ul></li>
<li>按 <code>Ctrl+C</code>（Command+C）或右键点击选中区域，选择“Copy Cell”。</li>
<li>切换到目标 Notebook（如 <strong>B.ipynb</strong>），点击你希望插入的位置。</li>
<li>按 <code>Ctrl+V</code>（Command+V）或右键选择 “Paste Cell”，即可将所有选中 cell 批量粘贴到目标位置。</li>
</ul>
</section>
</section>
<section id="导出和文档转换" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="导出和文档转换"><span class="header-section-number">4.7</span> 导出和文档转换</h2>
<p>在 VScode 中，你可以将 Jupyter Notebook 导出为多种格式，包括 HTML、PDF 和 Markdown。你可以在菜单栏中选择 <strong>文件</strong> -&gt; <strong>导出为</strong>，然后选择你想要的格式。当然，还需要安装一些额外的工具来支持这些导出功能，主要包括 Pandoc 和 TeX Live。</p>
<section id="转换为-html" class="level3" data-number="4.7.1">
<h3 data-number="4.7.1" class="anchored" data-anchor-id="转换为-html"><span class="header-section-number">4.7.1</span> 转换为 HTML</h3>
<section id="方法-1借助-quarto-插件" class="level4" data-number="4.7.1.1">
<h4 data-number="4.7.1.1" class="anchored" data-anchor-id="方法-1借助-quarto-插件"><span class="header-section-number">4.7.1.1</span> 方法 1：借助 quarto 插件</h4>
<p>如果已经安装了 <a href="https://quarto.org">Quarto</a>，并在 VScode 中安装了 Quarto 插件，你可以直接在 VScode 中使用 Quarto 导出 HTML。</p>
<p>首先，在 <code>.ipynb</code> 文件的顶部新增一个 Markdown 代码块，并填入以下 YAML 头信息：</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"这是我的笔记"</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span><span class="at"> html</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">number-sections</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>然后，按快捷键 <code>Ctrl + ~</code> 打开终端，运行以下命令：</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> path_name_of_your_notebook</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render your_notebook.ipynb <span class="at">--to</span> html</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>输出的 HTML 文件将保存在当前目录下，支持目录和章节编号和 <code>:::.callout</code> 等样式。</p>
</section>
<section id="方法-2使用-jupyter-notebook-的导出功能" class="level4" data-number="4.7.1.2">
<h4 data-number="4.7.1.2" class="anchored" data-anchor-id="方法-2使用-jupyter-notebook-的导出功能"><span class="header-section-number">4.7.1.2</span> 方法 2：使用 Jupyter Notebook 的导出功能</h4>
<ul>
<li>单击 <code>.ipynb</code> 文档顶部 <code>...</code> 按钮 (在 <code>Outline</code> 右侧)，选择 <strong>Export</strong> -&gt; <strong>HTML</strong>，即可将当前 Notebook 导出为 HTML 格式。</li>
<li>要求：需要预先通过安装 <code>nbconvert</code> 来支持 HTML 导出。
<ul>
<li>安装 <code>nbconvert</code> 的命令为：<code>pip install nbconvert</code>。</li>
</ul></li>
</ul>
<p>这种方式的转换效果不及 quarto，但对于简单的 Notebook 文档来说，已经足够使用。</p>
</section>
<section id="方法-3使用-nbconvert-命令行工具" class="level4" data-number="4.7.1.3">
<h4 data-number="4.7.1.3" class="anchored" data-anchor-id="方法-3使用-nbconvert-命令行工具"><span class="header-section-number">4.7.1.3</span> 方法 3：使用 nbconvert 命令行工具</h4>
<p>如果不想本地转换，你也可以把 <code>.ipynb</code> 文件同步到你的 GitHub 仓库，然后使用 Github 的在线转换功能。你只需复制 <code>.ipynb</code> 文件的链接地址，粘贴到浏览器中，GitHub 会自动渲染并显示该 Notebook。你可以在页面上右键选择“另存为”来保存为 HTML 格式。</p>
<p>若想获得更好的格式和样式，可以使用 <a href="https://nbviewer.org/">nbviewer</a> 在线查看和转换为 HTML 格式。具体方法是： <a href="https://nbviewer.org/">nbviewer</a> 在线查看和转换为 HTML 格式。</p>
</section>
</section>
<section id="安装-pandoc用于文档格式转换" class="level3" data-number="4.7.2">
<h3 data-number="4.7.2" class="anchored" data-anchor-id="安装-pandoc用于文档格式转换"><span class="header-section-number">4.7.2</span> 安装 Pandoc（用于文档格式转换）</h3>
<p>Jupyter 和 Quarto 在导出 Markdown、Word、PDF 时都会调用 Pandoc。</p>
<ul>
<li><p><strong>推荐安装方式（适用于 Anaconda 用户）</strong>：</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install <span class="at">-c</span> conda-forge pandoc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>或者前往官网下载安装包（Windows/macOS/Linux 均支持）： <a href="https://pandoc.org/install">https://pandoc.org/install</a></p></li>
<li><p>安装完成后，<strong>你可以在终端中输入以下命令测试是否成功</strong>：</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> <span class="at">--version</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="安装-tex-live用于导出-pdf" class="level3" data-number="4.7.3">
<h3 data-number="4.7.3" class="anchored" data-anchor-id="安装-tex-live用于导出-pdf"><span class="header-section-number">4.7.3</span> 安装 TeX Live（用于导出 PDF）</h3>
<p>Jupyter 和 Quarto 的 PDF 导出依赖 LaTeX 引擎，如 <code>pdflatex</code> 或 <code>xelatex</code>。推荐安装完整版本的 TeX Live。</p>
<ul>
<li><p><strong>Windows 用户</strong>请访问官网下载器： <a href="https://tug.org/texlive/windows.html">https://tug.org/texlive/windows.html</a></p></li>
<li><p>安装过程中可选择 “完整版” 或 “Typical full installation”；</p></li>
<li><p>安装完成后，<strong>务必重启 VS Code 和终端</strong>；</p></li>
<li><p>然后在终端中测试：</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pdflatex</span> <span class="at">--version</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="如何打开终端" class="level3" data-number="4.7.4">
<h3 data-number="4.7.4" class="anchored" data-anchor-id="如何打开终端"><span class="header-section-number">4.7.4</span> 如何打开终端？</h3>
<p>很多初学者不清楚“在终端中输入命令”具体指什么。你可以按以下方式打开终端：</p>
<ul>
<li><p><strong>方式一（推荐）</strong>： 在 VS Code 中按下快捷键 <code>Ctrl + ~</code>（就是数字 1 左侧的波浪线），即可打开内置终端。</p></li>
<li><p><strong>方式二</strong>： 从系统菜单中打开：</p>
<ul>
<li>Windows：点击开始 → 输入 <code>cmd</code> 或 <code>Anaconda Prompt</code> 或 <code>PowerShell</code>；</li>
<li>macOS：打开 Launchpad → 搜索「终端（Terminal）」；</li>
<li>Linux：按下 <code>Ctrl + Alt + T</code> 打开终端窗口。</li>
</ul></li>
</ul>
<p>终端窗口中，你可以输入如 <code>conda install</code>、<code>pandoc --version</code> 等命令，按下回车运行。</p>
</section>
<section id="安装完成后即可使用以下方式导出-pdf" class="level3" data-number="4.7.5">
<h3 data-number="4.7.5" class="anchored" data-anchor-id="安装完成后即可使用以下方式导出-pdf"><span class="header-section-number">4.7.5</span> 安装完成后即可使用以下方式导出 PDF</h3>
<ul>
<li><p>在 VS Code 中点击右上角「导出（Export）」按钮；</p></li>
<li><p>或在终端中运行：</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">jupyter</span> nbconvert your_notebook.ipynb <span class="at">--to</span> pdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>或使用 Quarto（如果你已安装）：</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render your_notebook.ipynb <span class="at">--to</span> pdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<p>完成上述安装和设定后，即可顺利将 Notebook 文档导出为 PDF、HTML、Word 等多种格式，满足教学、写作和发布的常见需求。</p>
</section>
<section id="高阶用法使用-quarto-导出漂亮-pdf-或制作电子书网站" class="level3" data-number="4.7.6">
<h3 data-number="4.7.6" class="anchored" data-anchor-id="高阶用法使用-quarto-导出漂亮-pdf-或制作电子书网站"><span class="header-section-number">4.7.6</span> 高阶用法：使用 Quarto 导出漂亮 PDF 或制作电子书网站</h3>
<p>如果你希望导出的文档更美观、格式更统一，或者希望将多个 Jupyter Notebook 或 Markdown 文档整合成一个电子书（book）或教学网站（website），可以考虑使用 <a href="https://quarto.org"><strong>Quarto</strong></a>。详情参见 <a href="https://lianxhcn.github.io/quarto_book/">连玉君：Quarto Book</a>，以及采用该教程编写的 <a href="https://www.lianxh.cn/Books.html">讲义</a>。</p>
<p>Quarto 是 RStudio 团队开发的下一代科学与技术出版平台，<strong>同时支持 <code>.ipynb</code>、<code>.qmd</code>、<code>.md</code> 文件的混合编写和发布</strong>。常见功能包括：</p>
<ul>
<li>一键导出 <strong>排版美观的 PDF 文档</strong>（支持标题、目录、脚注、交叉引用、引用文献等）；</li>
<li>创建结构化的电子书（<strong>Quarto Book</strong>），适合撰写讲义、教程和学术教材；</li>
<li>部署交互式教学网站（<strong>Quarto Website</strong>），可发布为静态网页托管在 GitHub Pages 上。</li>
</ul>
<section id="示例命令" class="level4" data-number="4.7.6.1">
<h4 data-number="4.7.6.1" class="anchored" data-anchor-id="示例命令"><span class="header-section-number">4.7.6.1</span> 示例命令：</h4>
<p>将 <code>.ipynb</code> 或 <code>.qmd</code> 导出为 PDF：</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render your_notebook.ipynb <span class="at">--to</span> pdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>将多个文档组织为电子书结构（在 <code>_quarto.yml</code> 中设置章节）：</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="安装方式" class="level4" data-number="4.7.6.2">
<h4 data-number="4.7.6.2" class="anchored" data-anchor-id="安装方式"><span class="header-section-number">4.7.6.2</span> 安装方式：</h4>
<ul>
<li><p>可从官网下载安装：<a href="https://quarto.org/download">https://quarto.org/download</a></p></li>
<li><p>安装完成后，在终端中测试：</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> <span class="at">--version</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<p>Quarto 完全兼容你现有的 VS Code 工作流，安装 Quarto 插件后即可直接在 VS Code 中预览、渲染和发布。对于希望构建专业文档的用户，Quarto 是目前最值得推荐的方案。</p>
</section>
</section>
</section>
<section id="附录" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="附录"><span class="header-section-number">4.8</span> 附录</h2>
<section id="借助-ai-工具自动创建项目文档-备选" class="level3" data-number="4.8.1">
<h3 data-number="4.8.1" class="anchored" data-anchor-id="借助-ai-工具自动创建项目文档-备选"><span class="header-section-number">4.8.1</span> 借助 AI 工具自动创建项目文档 (备选)</h3>
<blockquote class="blockquote">
<p><a href="https://chatgpt.com/share/6826f637-33e4-8005-b032-c8d1c93f4d7f">ChatGPT 对话过程</a></p>
</blockquote>
<p>如果觉得手动创建文件夹麻烦，可以借助 ChatGPT 等 AI 工具，自动创建项目文档。下面是我编写的一个示例提示词 (你只需要指定目标文件夹路径即可，即使这个文件夹不存在也没有关系)：</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
提示词：自动项目文档目录
</div>
</div>
<div class="callout-body-container callout-body">
<p>请帮我在 Windows 系统上为一个数据分析项目生成标准的项目结构。 项目的根目录是 D:/FinData/Proj_Maotai，请在该路径下创建以下结构：</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">D:/FinData/Proj_Maotai</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> codes             <span class="co"># 用于存放脚本代码</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> data              <span class="co"># 原始数据或处理后的数据</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> doc               <span class="co"># 项目文档与说明资料</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> output            <span class="co"># 图表、模型结果、分析报告等输出文件</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> README.md         <span class="co"># 项目说明文件，简要介绍项目目的与结构</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> 01_data_clean.ipynb       <span class="co"># 数据清洗与预处理</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> 02_EDA.ipynb              <span class="co"># 探索性数据分析</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="ex">└──</span> 03_regression.ipynb       <span class="co"># 回归分析与建模</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>请提供 Python 代码，以便我在写 Jupyter Notebook 中运行。 请确保必要的 <code>.ipynb</code> 文件和 <code>README.md</code> 都被自动生成。如果文件已存在，请保留原文件不覆盖。 你可以默认这些 <code>.ipynb</code> 文件为空白，也可以加一两行注释。</p>
</div>
</div>
<p>经过测试，ChatGPT 和 豆包生成的代码都可以一次性顺利执行：</p>
<ul>
<li><a href="https://chatgpt.com/share/6826f637-33e4-8005-b032-c8d1c93f4d7f">ChatGPT 对话过程</a></li>
<li><a href="https://www.doubao.com/thread/wafbddcefe1636e59">豆包对话过程</a></li>
</ul>
</section>
<section id="采用插件创建项目模板" class="level3" data-number="4.8.2">
<h3 data-number="4.8.2" class="anchored" data-anchor-id="采用插件创建项目模板"><span class="header-section-number">4.8.2</span> 采用插件创建项目模板</h3>
<p>除了上述方法，你也可以在 VScode 中搜索 <code>Project Templates</code>，安装对应的插件来创建项目模板。安装完成后，点击左侧的 <code>Project Templates</code> 图标，选择 <code>Create New Project</code>，然后选择你需要的模板即可。</p>
<ul>
<li>该插件提供了多种项目模板，包括数据分析、机器学习、Web 开发等，可以酌情选择。</li>
<li>该插件也支持自定义模板，具体操作请参考插件的说明文档。</li>
</ul>
<p>不过，如果项目不是很复杂，建议还是手动创建项目文件夹，这样更灵活，也更容易管理。</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/lianxhcn\.github\.io\/research_with_AI\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../body/01_install_Python_Anaconda.html" class="pagination-link" aria-label="Python：安装和环境配置">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Python：安装和环境配置</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../body/02_install_FAQs.html" class="pagination-link" aria-label="Python 安装常见问题">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Python 安装常见问题</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>